---
// component import
import MainLayout from "../../layouts/MainLayout.astro"
import PostCard from "../../components/PostCard.astro"
// utils import
import { formatBlogPosts } from "../../js/utils"

const allPosts = await Astro.glob("./*.md")
const formattedPost = formatBlogPosts(allPosts)
---

<MainLayout title="My Blog">
  <section class="container" aria-label="New Blog Posts">
    <h1 class="h1">New Blog Post</h1>
    <div class="post-container">
      {formattedPost.map((post)=>(
        <PostCard frontmatter={post.frontmatter} url={post.url} tagType="h2"/>
      ))}
    </div>
  </section>
</MainLayout>